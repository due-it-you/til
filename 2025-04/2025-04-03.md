# Today I Learned
## git cherry-pick
git cherry-pickを使うことで、恣意的に選んだコミットだけをマージすることができる。

```
(branch a)
 -> D -> E -> (marge地点)
    -> A -> B -> C
(branch B)
```

上記のようなbranch a と、Dからブランチ切ったbranch bがあるとした場合、通常ならA,B,Cの全てをbranch aにマージすることになるが、git cherry-pickを使うことで、コミットのAとBだけを選んでマージすることが出来る。

語源はチェリーピッキング（自分にとって有利な部分だけを選択すること）だと思われる。良い名称。

## HEAD^とHEAD~の違い
### ^(キャレットの場合)
1つ前の親コミットを指す

以下のようなコミット履歴があったとして

```
A -- B -- C -- D (HEAD)
```

HEAD^ => C
HEAD^2 => **D（=HEAD）は親を1つだけ持っているのでエラーになる**

HEAD^2は「HEAD（=D）の2番目の親」を意味していて、マージコミット（親が複数ある）じゃないと存在しないから。

以下のようなマージコミットがある場合は

```
A -- B ------ D (HEAD)
       \    /
        C--+
```
HEAD^ => B
HEAD^2 => C(2番目の親だから)

### ~(チルダの場合)
n個前の親をたどる

以下の場合、
```
A -- B -- C -- D (HEAD)
```
HEAD~ => C
HEAD~2 => B
HEAD~3 => A

直線のコミット履歴の場合は、普通にその数だけ辿る。

分岐のある場合は
```
A -- B --------- E (HEAD)
      \        /
       C ---- D
```
HEAD~ => B (= HEAD^)
HEAD~2 => A (**一番目の親Bコミットのさらに一番目の親をたどるからA**)

つまり、HEAD~nは「**一番目の親をn回たどる**」ということになる.





